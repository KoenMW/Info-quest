var d=Object.defineProperty;var u=(t,e,n)=>e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var l=(t,e,n)=>u(t,typeof e!="symbol"?e+"":e,n);import{m as i,g as m}from"./index-BeIn4BsD.js";import{T as g,s as p,a as c}from"./dom-DsfpZbuY.js";class s{static close(){this.controller&&this.controller.sendData("close")}static create(e,n){this.controller=new g(e),this.controller.onConnection(()=>{n("open")}),this.controller.onConnectionClose(()=>{n("close")}),this.controller.onData(r=>{r.type==="ack"&&this.controller.sendData({type:"ack",randomValue:r.randomValue})})}static send(e){this.controller.sendData({type:"input",input:e})}static sendLang(e){this.controller.sendData({type:"lang",lang:e})}}l(s,"controller");const f=document.querySelector(".left"),h=document.querySelector(".right"),y=document.querySelector(".jump"),o=i();console.log(o?"Mobile":"Desktop");const a=(t,e)=>{if(!t){console.error(`${e} button not found`);return}o?(t.addEventListener("touchstart",()=>{s.send(`${e}_press`)}),t.addEventListener("touchend",()=>{s.send(`${e}_release`)}),t.addEventListener("touchcancel",()=>{s.send(`${e}_release`)})):(t.addEventListener("mousedown",()=>{s.send(`${e}_press`)}),t.addEventListener("mouseup",()=>{s.send(`${e}_release`)}),t.addEventListener("mouseleave",()=>{s.send(`${e}_release`)}))},L=t=>{if(!t){console.error("Jump button not found");return}o?t.addEventListener("touchstart",()=>{s.send("jump")}):t.addEventListener("mousedown",()=>{s.send("jump")})},v=()=>{document.querySelectorAll(".lang button").forEach(e=>{e.addEventListener("click",()=>{const n=e.dataset.lang;n&&(n==="en"||n==="nl")&&(c(),s.sendLang(n))})})},$=async()=>{await p("f54e4ce47b7d6e0582e7ed4b9a744679dbb2");const t=m("key");if(!t){console.error("No key found");return}s.create(t,e=>console.log(e)),a(f,"left"),a(h,"right"),v(),L(y),c("lang")};export{$ as default};
